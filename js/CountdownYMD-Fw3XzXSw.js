import{r as d,j as s}from"../index-JdCxlw3t.js";import{u as S}from"./useTranslation-Cpp1qrkX.js";const v=({endTime:e,onComplete:r,className:h})=>{const{t:a}=S(),[t,o]=d.useState(0);d.useEffect(()=>{let n=null;return(async()=>{const p=Math.floor(Date.now()/1e3),l=e-p;if(l<=0){r&&r(),o(0);return}o(l),n=setInterval(()=>{o(u=>u===0?(n&&clearInterval(n),r&&r(),0):u-1)},1e3)})(),()=>{n&&clearInterval(n)}},[e,r]);const i=Math.floor(t/(3600*24*365)),c=Math.floor(t%(3600*24*365)/(3600*24*30)),f=Math.floor(t%(3600*24*30)/(3600*24)),x=Math.floor(t%(3600*24)/3600),m=Math.floor(t%3600/60),j=t%60;return s.jsxs("div",{className:h,children:[i>0&&s.jsxs("span",{children:[i,a("year")," "]}),c>0&&s.jsxs("span",{children:[c,a("month")," "]}),f>0&&s.jsxs("span",{children:[f,a("day")," "]}),s.jsxs("span",{children:[x.toString().padStart(2,"0"),":",m.toString().padStart(2,"0"),":",j.toString().padStart(2,"0")]})]})};export{v as default};
